# [John Hull教材笔记]期权定价入门[1]: 一阶Binomia模型 - 风险中性定价

虽然我不是数学或者金融专业的, 但既然在这个领域工作了, 就开始系统性地学习一下.

这篇文章按我自己的理解整理了John C. Hull的《Options, Futures, and Other Derivatives》相应的章节, 有删减, 也有增加背景介绍, 细节以原文为主, 有问题欢迎指出. 

防杠精声明: 如果觉得文章有错漏麻烦指出具体错在哪, 或给出正确的答案解释, 或者相应的引用来源.

## Binomial Tree定价

还是在Binomial Tree定价的框架下, 我们看看另一种定价方法. 

基本假设还是不变的, 我们假设股票价格是随机游走的(random walk). 从一个时间段的开头到结尾, 股票价格可能上涨, 也可能下跌, 但都是完全随机的. 

### 回顾无套利定价(No arbitrage valuation)

在无套利的假设下, 我们可以通过购买一定量的股票本身, 复现出期权的现金流, 从而算出期权的价格. 这是方法之一. 

### 风险中性定价(Risk-neutral valuation)

另一种方法就是风险中性定价(Risk-neutral valuation). 这里我们将会基于这种假设再次算出期权的价格. 在这种定价方式里, 我们假设所有投资者都是风险中性的(risk-neutral). 

我就不扯术语来解释风险中性了, 我们来看看例子. 假设我们在玩一个扔硬币的游戏, 玩家可以选择不扔硬币, 这时他有100%的机会拿到100块钱; 假如玩家选择扔硬币, 那么扔到正面(50%机会)可以拿到200块钱, 扔到反面(50%机会)拿到0块钱. 

我们算一下期望可以发现, 这两种选择的期望收益都是100块钱. 但是在我们的非风险中性投资者的眼里, 显然选择扔硬币的风险比较大, 毕竟不扔就100%拿钱走人, 而且拿到的和期望收益一样. 除非承受了风险能有更高的收益, 理性人应该是不会选择扔硬币的. 

但是在风险中性的世界里, 只要期望收益一样, 那么哪种投资方式都一样. 

又因为我们的基本假设, 股票的价格是随机游走的, 所以如果在不考虑无风险利率(risk-free rate)情况下股票价格的期望就是它自己原本的价格. 如果考虑无风险利率, 股票的期望收益就是无风险利率, 也就是说:

$$ 把钱存银行的期望收益 = 买股票的期望收益 $$

### 风险中性定价(Risk-neutral valuation)案例

再次回到我们之前用的案例, 取一个时间段3个月. 假设某个股票当前价格(underlying price)是$20. 假设3个月后股票价格有2种可能:

1. 股票可能涨到$22, 这时期权价值$1 
2. 股票可能跌到$18, 这时期权价值$0

我们再定义一些变量名:

时间段: $T = 3/12$

无风险利率: $r = 12%$

初始股价: $S_0 = 20$

T时间段之后的股价上涨之后的价格: $S0 \times u = 22, u = 1.1$, 对应的期权价格: $f_u = 1$

T时间段之后的股价下跌之后的价格: $S0 \times d = 18, d = 0.9$, 对应的期权价格: $f_d = 0$

股价上涨概率: $p$

股价下跌概率: $1-p$

T时间段之后的股价期望: $E(S_T) = p \times S_0 \times u + (1-p) \times S_0 \times d$ 

T时间段之后的期权期望: $E(f_T) = p \times f_u + (1-p) \times f_d$

我们要算最初的期权价格: $f$

![image](https://user-images.githubusercontent.com/5571030/207022685-b1135476-b384-4bfd-9a77-7122830a793d.png)


#### 再次简化: 不考虑无风险利率(No interest free rate)

如果不考虑无风险利率, $T$时间段之后, 也就是3个月之后的股价期望和初始股价完全一样: 

T时间段之后的股价期望: 

$$E(S_T)  = S_0$$

带入变量的值我们可以得到:

$$E(S_T) = p \times S_0 \times u + (1-p) \times S_0 \times d$$ 

$$p \times 22 + (1-p) \times 18 = 20$$

$$p = 0.5$$

所以在无风险利率的情况下, 我们可以看到股票上涨概率和下跌概率都是0.5. 带入到期权的期望里:

T时间段之后的期权期望: 

$$E(f_T) = p \times f_u + (1-p) \times f_d = 0.5 \times 1 + 0.5 \times 0 = 0.5$$

因为没有利率嘛, 所以最初的期权的价格就和T时间段之后的期权期望一样了: $f = E(f_T) = 0.5$

#### 复杂一些: 考虑无风险利率(interest free rate)

如果考虑无风险利率, $T$时间段之后, 也就是3个月之后的股价收益就会等同于把初始股价的钱存银行后的收益, 也就是: 

$$E(S_T)  = S_0 \times e ^{rT}$$

